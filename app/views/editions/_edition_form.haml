= form_for @edition do |f|
  .columns
    .column.is-3
      %article.message.is-warning
        .message-body
          .content
            %h4
              Guidelines
            %ul
              %li
                Be careful about duplicates. Search if the game edition you are trying to add is not already in our library.
              %li
                The "game info" is about every edition of this game (in multiple platforms), while the edition info is exclusive to this edition
              %li
                A DLC is not an edition. It should be filled in as a DLC/Expansion, by going into the edition and clicking on "new DLC/Expansion"
      .tile.is-ancestor
        .tile.is-parent.is-vertical{ data: { controller: "image-preview" } }
          .tile.is-child
            %p.subtitle.is-6.has-text-centered
              Cover image for this edition

          .tile.is-parent.is-vertical
            .tile.is-child{ class: !@edition.coverart.exists? ? "is-hidden" : "", "data-image-preview-target": "visibility" }
              %figure.image
                = image_tag @edition.coverart.url(:medium), "data-image-preview-target": "output"
              .field
                .control
                  %label.checkbox
                    = f.check_box :delete_coverart
                    Delete Image
            .tile.is-child.is-flex.is-justify-content-center
              .file
                %label.file-label
                  = f.file_field :coverart, class: "file-input", "data-image-preview-target": "input", "data-action": "image-preview#read_url"
                  %span.file-cta
                    %span.file-icon
                      %i.fa.fa-upload
                    %span.file-label
                      Choose a file…
    .column
      .content
        %h3
          Game edition info
        %p
          Information related to this edition: medium, developer, publisher
          .field.is-horizontal
            .field-label
              = f.label :title, class: "label"
            .field-body
              .control.has-icons-right
                = f.text_field :title, :required => true, :placeholder => "Pokémon: Red Version", class: "input"
              .help.is-danger
                = @edition.errors[:title]
-# <div class="field is-horizontal">
-#   <div class="field-label is-normal">
-#     <label class="label">Subject</label>
-#   </div>
-#   <div class="field-body">
-#     <div class="field">
-#       <div class="control">
-#         <input class="input is-danger" type="text" placeholder="e.g. Partnership opportunity">
-#       </div>
-#       <p class="help is-danger">
-#         This field is required
-#       </p>
-#     </div>
-#   </div>
-# 
      <div class="col-md-9">
          <div class="form-group has-feedback">
              <%= f.label :title, "Title:", :class => "col-sm-3 control-label" %>
              <div class="col-sm-8">
                  <%= f.text_field :title, :required => true, :class => "form-control", :placeholder => "Pokémon: Red Version" %>
                  <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
                  <div class="help-block with-errors"></div>
              </div>
          </div>
          <div class="form-group has-feedback">
              <%= f.label :developer, "Developer:", :class => "col-sm-3 control-label" %>
              <div class="col-sm-8">
                  <%= f.text_field :developer, :required => true, :class => "form-control", :placeholder => "Game Freak" %>
                  <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
                  <div class="help-block with-errors"></div>
              </div>
          </div>
          <div class="form-group has-feedback">
              <%= f.label :publisher, "Publisher:", :class => "col-sm-3 control-label" %>
              <div class="col-sm-8">
                  <%= f.text_field :publisher, :required => true, :class => "form-control", :placeholder => "Nintendo" %>
                  <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
                  <div class="help-block with-errors"></div>
              </div>
          </div>
          <div class="form-group has-feedback">
              <%= f.label :description, "Description:", :class => "col-sm-3 control-label" %>
              <div class="col-sm-8">
                  <%= f.text_area :description, :cols => 40, :rows => 20, :required => true, :class => "form-control" %>
                  <div id="special_formatting_text" class="special_formatting_tips showing" aria-hidden="true"><b>**bold**</b> <i>*italics*</i> ~~strike~~ <span class="quote">&gt;quote</span></div>
                  <div class="help-block with-errors"></div>
                  <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
              </div>
          </div>
          <div class="form-group has-feedback">
              <%= f.label :release_date, "Release date:", :class => "col-sm-3 control-label" %>
              <div class="col-sm-8">
                  <%= f.date_field :release_date, :required => true, :class => "form-control" %>
                  <div class="help-block with-errors"></div>
                  <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
              </div>
          </div>
          <div class="form-group">
              <%= f.label :platform_id, "Platform:", :class => "col-sm-3 control-label" %>
              <div class="col-sm-8">
                  <div class="ui-select">
                      <%= f.collection_select :platform_id, Platform.order(:priority,:display_title),:id,:display_title, {}, :class => "form-control" %>
                  </div>
              </div>
          </div>
          <div class="form-group">
              <%= f.label :region_id, "Region:", :class => "col-sm-3 control-label" %>
              <div class="col-sm-8">
                  <div class="ui-select">
                      <%= f.collection_select :region_id, Region.order(:title),:id,:title, {}, :class => "form-control" %>
                  </div>
              </div>
          </div>
          <div class="form-group">
              <%= f.label :media_id, "Media:", :class => "col-sm-3 control-label" %>
              <div class="col-sm-8">
                  <div class="ui-select">
                      <%= f.collection_select :media_id, Media.order(:title),:id,:title, {}, :class => "form-control" %>
                  </div>
              </div>
          </div>
          <div class="form-group">
              <h3>Game info</h3>
              <h6>Original title, characters, awards and setting apply to all editions related to this game.</h6>
          </div>
          <div id="work">
              <%= fields_for @work do |w| %>
                  <%- if @work.id.present? %>
                      <%= hidden_field_tag "work_option", "existing" %>
                      <%= hidden_field_tag "existing_work[id]", @work.id %>
                  <% end -%>
                  <div class="form-group has-feedback">
                      <%= w.label :original_title, "Original title:", :class => "col-sm-3 control-label" %>
                      <div class="col-sm-8">
                          <%= w.text_field :original_title, :required => true, :class => "form-control" %>
                          <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
                          <div class="help-block with-errors"></div>
                      </div>
                  </div>
                  <div class="form-group has-feedback">
                      <%= w.label :original_release_date, "Original release date:", :class => "col-sm-3 control-label" %>
                      <div class="col-sm-8">
                          <%= w.date_field :original_release_date, :required => true, :class => "form-control" %>
                          <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
                          <div class="help-block with-errors"></div>
                      </div>
                  </div>
              <% end %>
          </div>
          <div class="form-group">
              <label class="col-md-3 control-label"></label>
              <div class="col-md-8">
                  <input type="submit" class="btn btn-primary" value="Save Changes">
                  <span></span>
                  <input type="reset" class="btn btn-default" value="Cancel">
              </div>
          </div>
      </div>
  <% end %>
